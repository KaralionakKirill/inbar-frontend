<app-inner-page-banner [title]="'Создание ингредиента'"></app-inner-page-banner>
<!-- Create Ingredient Area Start Here -->
<section class="padding-top-18 padding-bottom-18">
    <div class="container">
        <div class="row gutters-60">
            <div class="col-lg-12">
                <form class="create-ingredient-form" [formGroup]="form">
                    <div class="form-group">
                        <p-dropdown [placeholder]="'Статус'"
                                    [options]="statuses"
                                    formControlName="status"
                                    appendTo="body"></p-dropdown>
                        <div class="error-message" *ngIf="form.controls['status'].invalid && submit">
                            Статус должен быть установлен
                        </div>
                    </div>
                    <div class="additional-input-wrap">
                        <label>Фото</label>
                        <div class="form-group">
                            <ul class="upload-img">
                                <li>
                                    <p-image src="{{imageUrl}}"
                                             alt="Image"
                                             width="235"
                                             [preview]="true"></p-image>
                                </li>
                            </ul>
                            <input id="file" type="file" (change)="onSelect($event)" #fileUpload accept="image/*">
                            <button class="btn-upload" (click)="fileUpload.click()">
                                <i class="fas fa-cloud-upload-alt"></i>ЗАГРУЗИТЬ ФОТО
                            </button>
                            <div class="error-message" *ngIf="imageId === null && submit">
                                Фото не загружено
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <label>Название ингредиента</label>
                        <input type="text"
                               placeholder="Название ингредиента"
                               class="form-control"
                               name="name"
                               formControlName="name">
                        <div class="error-message" *ngIf="form.controls['name'].invalid && submit">
                            Имя некорректное
                        </div>
                    </div>
                    <div class="form-group">
                        <p-dropdown [placeholder]="'Основа'"
                                    [options]="primaryIngredients"
                                    [showClear]="true"
                                    [filter]="true"
                                    filterBy="name"
                                    formControlName="primaryIngredient"
                                    appendTo="body"
                                    class="mr-2"
                                    optionLabel="name"></p-dropdown>
                        <p-dropdown [placeholder]="'Вкус'"
                                    [options]="tastes"
                                    [showClear]="true"
                                    [filter]="true"
                                    filterBy="name"
                                    formControlName="taste"
                                    appendTo="body"
                                    optionLabel="name"></p-dropdown>
                    </div>
                    <div class="form-group">
                        <p-dropdown [placeholder]="'Тип'"
                                    [options]="ingredientTypes"
                                    [showClear]="true"
                                    [filter]="true"
                                    filterBy="name"
                                    formControlName="type"
                                    appendTo="body"
                                    optionLabel="name"
                                    class="mr-2"></p-dropdown>
                        <p-dropdown [placeholder]="'Градус'"
                                    [options]="alcoholDegrees"
                                    [showClear]="true"
                                    [filter]="true"
                                    filterBy="name"
                                    formControlName="alcoholDegree"
                                    appendTo="body"
                                    optionLabel="name"></p-dropdown>
                    </div>
                    <div class="form-group">
                        <p-dropdown [placeholder]="'Группа'"
                                    [options]="ingredientGroups"
                                    [showClear]="true"
                                    [filter]="true"
                                    filterBy="name"
                                    formControlName="group"
                                    appendTo="body"
                                    optionLabel="name"></p-dropdown>
                        <div class="error-message" *ngIf="dropdownsValid() && submit">
                            Все значения должны быть выбраны
                        </div>
                    </div>
                    <div class="form-group">
                        <label>Описание</label>
                        <textarea placeholder="Введите описание"
                                  class="textarea form-control"
                                  name="message"
                                  rows="7" cols="20"
                                  formControlName="description"></textarea>
                        <div class="error-message" *ngIf="form.controls['description'].invalid && submit">
                            Описание должно быть заполнено
                        </div>
                    </div>
                    <button type="submit" class="btn-submit" (click)="onUpdate()">Обновить ингредиент</button>
                </form>
            </div>
        </div>
    </div>
</section>
<!-- Create Ingredient Area End Here -->
